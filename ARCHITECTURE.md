# ğŸ—ï¸ System Architecture & Data Flow

## Complete System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         EXAM MANAGEMENT SYSTEM v1.0                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚   Web Browser    â”‚
                            â”‚  (React + Vite)  â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                          HTTP/CORS  â”‚
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                 â”‚
                    â”‚    FRONTEND (Port 5174)         â”‚
                    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚   â”‚  React Components        â”‚  â”‚
                    â”‚   â”‚  â”œâ”€ Auth Pages          â”‚  â”‚
                    â”‚   â”‚  â”œâ”€ Exam Pages          â”‚  â”‚
                    â”‚   â”‚  â”œâ”€ Admin Pages         â”‚  â”‚
                    â”‚   â”‚  â””â”€ Results Pages       â”‚  â”‚
                    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â”‚                                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                          REST API   â”‚
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                 â”‚
                    â”‚    BACKEND (Port 5000)          â”‚
                    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚   â”‚  Express Routes          â”‚  â”‚
                    â”‚   â”‚  â”œâ”€ /auth/*              â”‚  â”‚
                    â”‚   â”‚  â”œâ”€ /api/subjects        â”‚  â”‚
                    â”‚   â”‚  â”œâ”€ /api/questions       â”‚  â”‚
                    â”‚   â”‚  â”œâ”€ /api/question-papers â”‚  â”‚
                    â”‚   â”‚  â”œâ”€ /api/exams          â”‚  â”‚
                    â”‚   â”‚  â””â”€ /api/submissions     â”‚  â”‚
                    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚   â”‚  Controllers             â”‚  â”‚
                    â”‚   â”‚  â”œâ”€ Auth.js              â”‚  â”‚
                    â”‚   â”‚  â”œâ”€ question.controller  â”‚  â”‚
                    â”‚   â”‚  â”œâ”€ questionPaper...    â”‚  â”‚
                    â”‚   â”‚  â”œâ”€ examAttempt.contr.. â”‚  â”‚
                    â”‚   â”‚  â””â”€ submission.contr..  â”‚  â”‚
                    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â”‚                                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚                â”‚
                      DB Queries              â”‚
                             â”‚                â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                           â”‚                    â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚   MongoDB      â”‚        â”‚ AWS DynamoDB    â”‚    â”‚  AWS S3  â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚        â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚ Users    â”‚  â”‚        â”‚ â”‚ Subjects   â”‚  â”‚    â”‚ â”‚Files â”‚ â”‚
    â”‚  â”‚ Profiles â”‚  â”‚        â”‚ â”‚ Questions  â”‚  â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚        â”‚ â”‚ Papers     â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                â”‚        â”‚ â”‚ Attempts   â”‚  â”‚
    â”‚ (Auth Data)    â”‚        â”‚ â”‚ Submissionsâ”‚  â”‚
    â”‚                â”‚        â”‚ â”‚ Results    â”‚  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                              â”‚ (Exam Data)     â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## User Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  AUTHENTICATION FLOW                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. REGISTRATION
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Student â”‚ â†’ Register Request  â”‚Backend  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ (email, pwd, name)  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                                        â”‚
                                   Hash Password
                                        â”‚
                                   Save to MongoDB
                                        â”‚
                                   Send Email
                                        â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
   â”‚ Student â”‚ â† Email with code  â”‚ Backend â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. EMAIL VERIFICATION
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Student â”‚ â†’ Verify Code      â”‚Backend  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                                        â”‚
                                   Check code
                                        â”‚
                                   Mark verified
                                        â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
   â”‚ Student â”‚ â† Success          â”‚ Backend â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3. LOGIN
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Student â”‚ â†’ Login (email+pwd)â”‚Backend  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                                        â”‚
                                   Query MongoDB
                                        â”‚
                                   Compare password
                                        â”‚
                                   Generate JWT
                                        â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
   â”‚ Student â”‚ â† JWT Token        â”‚ Backend â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ + Cookie           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚ Store JWT
      â–¼
   [Browser Storage]

4. AUTHENTICATED REQUEST
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Student â”‚ â†’ API Call         â”‚Backend  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ + JWT Token        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                                        â”‚
                                   Verify JWT
                                        â”‚
                                   Check Role
                                        â”‚
                                   Execute Request
                                        â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
   â”‚ Student â”‚ â† Response         â”‚ Backend â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Exam Attempt Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   EXAM ATTEMPT FLOW                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. EXAM START
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Student â”‚ â†’ Start Exam       â”‚Backend  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ (subject)          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                                        â”‚
                                   POST /api/exams/start
                                        â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚                       â”‚
                       Get Params          Fetch Papers
                            â”‚                       â”‚
                       Get Papers          Check DB
                            â”‚                       â”‚
         Check Previous Attempts    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚       â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
                     â”‚  Select Paper     â”‚
                     â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
                     â”‚  Find paper NOT   â”‚
                     â”‚  attempted yet    â”‚
                     â”‚  or random if all â”‚
                     â”‚  have been done   â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                         Create Attempt
                              â”‚
                         Save to DynamoDB
                              â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Student â”‚ â† examAttemptIdâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚Fetch   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   paperId      â”‚          â”‚Questions
                 questions    â”‚          â”‚for Paper
                 paperTitle   â”‚          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                              â”‚               â”‚
                         â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”
                         â”‚ DynamoDB - Attempted   â”‚
                         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
                         â”‚ â”‚ examAttemptId    â”‚   â”‚
                         â”‚ â”‚ userId           â”‚   â”‚
                         â”‚ â”‚ subject          â”‚   â”‚
                         â”‚ â”‚ paperId          â”‚â—€â”€â”€â”¼â”€ Paper ID
                         â”‚ â”‚ startedAt        â”‚   â”‚
                         â”‚ â”‚ status: progress â”‚   â”‚
                         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. EXAM IN PROGRESS
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Student â”‚ â†’ Answer Question  â”‚Frontend â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â””â”€ Save in Memory
        
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Student â”‚ â†’ Save Answers     â”‚Backend  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ (periodically)     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                                        â”‚
                         PUT /api/exams/attempt/:id/answers
                                        â”‚
                                   Update Attempt
                                        â”‚
                              Save to DynamoDB
                                        â”‚
                                    Success

3. EXAM SUBMIT
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Student â”‚ â†’ Submit Exam      â”‚Backend  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ (all answers)      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                                        â”‚
                      POST /api/exams/attempt/:id/submit
                                        â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚  Save to DynamoDB         â”‚
                         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
                         â”‚  â”‚ ExamSubmissions    â”‚   â”‚
                         â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
                         â”‚  â”‚ â”‚submissionId    â”‚ â”‚   â”‚
                         â”‚  â”‚ â”‚userId          â”‚ â”‚   â”‚
                         â”‚  â”‚ â”‚subject         â”‚ â”‚   â”‚
                         â”‚  â”‚ â”‚paperId         â”‚ â”‚   â”‚
                         â”‚  â”‚ â”‚examAttemptId   â”‚ â”‚   â”‚
                         â”‚  â”‚ â”‚answers         â”‚ â”‚   â”‚
                         â”‚  â”‚ â”‚submittedAt     â”‚ â”‚   â”‚
                         â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
                         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                            Update Attempt
                            (status: submitted)
                                    â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
   â”‚ Student â”‚ â—€â”€ Success Response  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
        â”‚                          â”‚
        â””â”€ Redirect to Results  â—€â”€â”€â”˜
```

## Paper Assignment Logic

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              INTELLIGENT PAPER ASSIGNMENT                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

START: Student clicks "Start Exam" for subject "JavaScript"
â”‚
â–¼
GET ALL PAPERS FOR "JavaScript"
â”‚
â”œâ”€ Paper 1: Questions [q1, q2, q3, q4]
â”œâ”€ Paper 2: Questions [q5, q6, q7, q8]
â””â”€ Paper 3: Questions [q9, q10, q11, q12]
â”‚
â–¼
GET STUDENT'S PREVIOUS ATTEMPTS
â”‚
â”œâ”€ Attempt 1 (Jan 1): Paper 1 âœ“
â”œâ”€ Attempt 2 (Jan 2): Paper 2 âœ“
â””â”€ Attempt 3 (Jan 3): Paper 3 âœ“
â”‚
â–¼
CHECK FOR UNATTTEMPTED PAPERS
â”‚
    No unatttempted papers found
â”‚
â–¼
ASSIGN RANDOM PAPER (All papers already attempted)
â”‚
    Randomly select from Paper 1, 2, or 3
â”‚
â–¼
START EXAM WITH SELECTED PAPER

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ALTERNATE SCENARIO:
â”‚
START: Student clicks "Start Exam" for subject "JavaScript"
â”‚
â–¼
GET ALL PAPERS FOR "JavaScript"
â”‚
â”œâ”€ Paper 1: Questions [q1, q2, q3, q4]
â”œâ”€ Paper 2: Questions [q5, q6, q7, q8]
â””â”€ Paper 3: Questions [q9, q10, q11, q12]
â”‚
â–¼
GET STUDENT'S PREVIOUS ATTEMPTS
â”‚
â””â”€ Attempt 1 (Jan 1): Paper 1 âœ“
â”‚
â–¼
CHECK FOR UNATTTEMPTED PAPERS
â”‚
    Found: Paper 2 and Paper 3 NOT attempted
â”‚
â–¼
SELECT FIRST UNATTTEMPTED PAPER
â”‚
    Select: Paper 2
â”‚
â–¼
START EXAM WITH PAPER 2
```

## Admin Question Paper Creation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ADMIN CREATES QUESTION PAPERS                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ADMIN DASHBOARD
â”‚
â–¼
Select Subject: "JavaScript"
â”‚
â–¼
Click "Papers" Button
â”‚
â–¼
See Existing Papers
â”œâ”€ Paper 1 (4 questions)
â”œâ”€ Paper 2 (4 questions)
â””â”€ Paper 3 (4 questions)
â”‚
â–¼
Click "+ Create New Paper"
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CREATE QUESTION PAPER FORM           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Paper Title: "Paper 4 - Final"   â”‚ â”‚
â”‚ â”‚                                  â”‚ â”‚
â”‚ â”‚ â˜‘ MCQ: "What is closure?"       â”‚ â”‚
â”‚ â”‚ â˜‘ MCQ: "What is hoisting?"      â”‚ â”‚
â”‚ â”‚ â˜‘ MCQ: "What is async/await?"   â”‚ â”‚
â”‚ â”‚ â˜‘ Theory: "Explain promises"    â”‚ â”‚
â”‚ â”‚ â˜‘ Theory: "Arrow functions"     â”‚ â”‚
â”‚ â”‚ â˜‘ Coding: "Write filter func"   â”‚ â”‚
â”‚ â”‚                                  â”‚ â”‚
â”‚ â”‚ [Create Paper] [Cancel]          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
SEND TO BACKEND
â”‚
POST /api/question-papers
{
  "subject": "javascript",
  "title": "Paper 4 - Final",
  "questionIds": [
    "q-001",
    "q-002",
    "q-003",
    "q-004",
    "q-005",
    "q-006"
  ]
}
â”‚
â–¼
SAVE TO DYNAMODB
â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ QuestionPapers Table             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ paperId: "paper-123"         â”‚ â”‚
â”‚ â”‚ subject: "javascript"        â”‚ â”‚
â”‚ â”‚ title: "Paper 4 - Final"     â”‚ â”‚
â”‚ â”‚ questionIds: [...]           â”‚ â”‚
â”‚ â”‚ status: "active"             â”‚ â”‚
â”‚ â”‚ createdBy: "admin-001"       â”‚ â”‚
â”‚ â”‚ createdAt: 1704273600        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
PAPER CREATED SUCCESSFULLY
â”‚
Student can now take exam with Paper 4!
```

## Data Model Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATA RELATIONSHIPS                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

MongoDB Users
â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                                     â”‚
      â–¼                                     â–¼
   [userId]                            [userId]
      â”‚                                     â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
      â”‚                              â”‚
      â–¼                              â–¼
Subjects             ExamAttempts        ExamSubmissions
   â”œâ”€ Math          (DynamoDB)          (DynamoDB)
   â”œâ”€ Science       â”œâ”€ userId           â”œâ”€ userId
   â””â”€ JavaScript    â”œâ”€ paperId â”€â”€â”€â”€â”    â”œâ”€ paperId â”€â”€â”€â”€â”
      â”‚             â””â”€ startedAt   â”‚    â”œâ”€ examAttemptIdâ”€â”
      â”‚                            â”‚    â””â”€ answers       â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                      â”‚
      â”‚              â”‚             â”‚                      â”‚
      â–¼              â–¼             â”‚                      â”‚
   Questions    QuestionPapers    â”‚                      â”‚
   â”œâ”€ q-001    (DynamoDB)        â”‚                      â”‚
   â”œâ”€ q-002    â”œâ”€ paperId        â”‚                      â”‚
   â”œâ”€ q-003    â”œâ”€ title          â”‚                      â”‚
   â”œâ”€ q-004    â”œâ”€ questionIds â”€â”€â”€â”€â”˜                      â”‚
   â”œâ”€ q-005    â””â”€ status                                 â”‚
   â””â”€ q-006                                              â”‚
                                    Results (DynamoDB)
                                    â”œâ”€ userId
                                    â”œâ”€ submissionId â”€â”€â”€â”€â”€â”˜
                                    â”œâ”€ score
                                    â””â”€ evaluator
```

## Request Response Cycle

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              API REQUEST/RESPONSE CYCLE                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CLIENT (Browser)                SERVER (Node.js)              DATABASE
     â”‚                                â”‚                           â”‚
     â”‚   1. HTTP Request             â”‚                           â”‚
     â”‚   (with JWT Token)            â”‚                           â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚                           â”‚
     â”‚                              â”‚                           â”‚
     â”‚                    2. Parse Request                      â”‚
     â”‚                    3. Verify JWT                         â”‚
     â”‚                    4. Check Authorization               â”‚
     â”‚                              â”‚                           â”‚
     â”‚                         5. Query DB â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚
     â”‚                              â”‚                           â”‚
     â”‚                              â”‚              6. Return Data
     â”‚                              â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                    7. Process Data                      â”‚
     â”‚                    8. Build Response                    â”‚
     â”‚                              â”‚                           â”‚
     â”‚   9. HTTP Response           â”‚                           â”‚
     â”‚   (JSON + Status)            â”‚                           â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”‚
     â”‚                              â”‚                           â”‚
10. Parse Response                 â”‚                           â”‚
11. Update UI                      â”‚                           â”‚
     â”‚                              â”‚                           â”‚
     â–¼                              â–¼                           â–¼

Example: POST /api/exams/start

CLIENT                             SERVER                    DATABASE
  â”‚                                  â”‚                           â”‚
  â”‚ POST /api/exams/start            â”‚                           â”‚
  â”‚ Body: {subject: "javascript"}    â”‚                           â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚                           â”‚
  â”‚                                  â”‚                           â”‚
  â”‚                         Authenticate Request                â”‚
  â”‚                         Extract userId                      â”‚
  â”‚                         Extract subject                     â”‚
  â”‚                                  â”‚                           â”‚
  â”‚                    Query: Find Papers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚
  â”‚                    subject = "javascript"                   â”‚
  â”‚                                  â”‚                           â”‚
  â”‚                                  â”‚      Return Papers Array  â”‚
  â”‚                                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                    Query: Find Attempts â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚
  â”‚                    userId = "user-123"                      â”‚
  â”‚                    subject = "javascript"                   â”‚
  â”‚                                  â”‚                           â”‚
  â”‚                                  â”‚      Return Attempts     â”‚
  â”‚                                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                                  â”‚                           â”‚
  â”‚                         Compare Papers vs Attempts          â”‚
  â”‚                         Find Unatttempted Paper             â”‚
  â”‚                         Select Paper #2                     â”‚
  â”‚                                  â”‚                           â”‚
  â”‚                    Insert: New Attempt â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚
  â”‚                    examAttemptId, paperId, etc.            â”‚
  â”‚                                  â”‚                           â”‚
  â”‚                                  â”‚      Return Success      â”‚
  â”‚                                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                                  â”‚                           â”‚
  â”‚ HTTP 200 OK                      â”‚                           â”‚
  â”‚ {                                â”‚                           â”‚
  â”‚   examAttemptId: "attempt-456"  â”‚                           â”‚
  â”‚   paperId: "paper-002"           â”‚                           â”‚
  â”‚   questions: [...]               â”‚                           â”‚
  â”‚ }                                â”‚                           â”‚
  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”‚
  â”‚                                  â”‚                           â”‚
  â–¼ Render Exam Page                 â–¼                           â–¼
```

---

**Architecture Ready for Production** âœ…

Generated: January 3, 2026
